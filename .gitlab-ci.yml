# Generated by Curator v2
#
# check my other files:
#   .scorealarm-curator/application-compile-and-release.yml
#   .scorealarm-curator/application-deploy.yml
#   .scorealarm-curator/application-triggers.tml

image: registry.gitlab.com/superbet/scorealarm-ops/ci-elixir-builder/elixir-builder-alpine-amd64:1.13.4-erlang-25.0-alpine-3.15.4-41

services:
  - 617709483204.dkr.ecr.eu-west-1.amazonaws.com/docker:20.10.14-dind-alpine3.15

variables:
  DOCKER_HOST: tcp://localhost:2375/
  DOCKER_TLS_CERTDIR: ""

stages:
  - test
  - compile
  - stage_triggers

before_script:
 - cd / && mix archive.install --force git git@gitlab.com:superbet/stats/deps.git && cd -
 - mix local.hex --force
 - mix local.rebar --force
 - mix archive.install --force git git@gitlab.com:superbet/scorealarm-ops/surgy_ci.git

include:
  - .scorealarm-curator/application-compile-and-release.yml
  - .scorealarm-curator/application-deploy.yml
  - .scorealarm-curator/application-triggers.yml
